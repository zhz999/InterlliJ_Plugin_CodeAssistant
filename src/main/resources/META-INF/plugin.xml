<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>CodeAssistant</id>
    <name>开发助手</name>
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <vendor email="zhanghongzhong@bytedance.com">zhanghongzhong</vendor>
    <description>
        <![CDATA[
          <ul>
            <li>1. Download the Plugin</li>
            <li>2. Configuration ollama</li>
            <li>3. use CodeAssistant</li>
          </ul>
        ]]>
    </description>
    <change-notes>
        <![CDATA[
          <ul>
            <li>### 1.0.0 : idea2023_sinceBuild212_untilBuild*</li>
            <li>### 1.0.1 : idea2023_sinceBuild232_untilBuild*</li>
          </ul>
        ]]>
    </change-notes>
    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">

        <toolWindow id="开发助手"
                    icon="Icons.DefaultSmall"
                    anchor="right"
                    secondary="true"
                    factoryClass="com.zhz.bytedance.development_assistant_zhz.ChatWindow"/>

        <statusBarWidgetFactory
                order="first"
                id="dev.statusbar.widget"
                implementation="statusbar.CodeStatusBarWidgetFactory"/>

        <applicationConfigurable
                id="settings.CodeAssistant"
                parentId="tools"
                instance="settings.CodeAssistantSettingsConfigurable"
                displayName="开发助手"/>
        <applicationService serviceImplementation="settings.CodeAssistantSettingsState"/>

        <applicationConfigurable
                id="settings.Configuration"
                parentId="settings.CodeAssistant"
                displayName="Editor Configuration"
                instance="settings.configuration.ConfigurationConfigurable"/>
        <applicationService serviceImplementation="settings.configuration.ConfigurationSettings"/>

    </extensions>
    <actions>
<!--        <action id="DevAction"-->
<!--                class="com.zhz.bytedance.development_assistant_zhz.DevAction"-->
<!--                text="Open Assistant"-->
<!--                popup="true"-->
<!--                icon="Icons.DefaultSmall">-->
<!--            <add-to-group group-id="EditorPopupMenu1" anchor="first"/>-->
<!--        </action>-->

        <action id="Png-icons"
                class="com.zhz.bytedance.development_assistant_zhz.PngToIcon"
                popup="true"
                icon="Icons.DefaultSmall"
                text="Png 转 Icons">
            <add-to-group group-id="ToolsMenu" anchor="first"/>
        </action>

        <action
                id="DevAction.openSettings"
                icon="Icons.DefaultSmall"
                text="Open Settings"
                class="settings.OpenSettingsAction">
            <override-text place="MainMenu" text="Open Settings"/>
            <override-text place="popup" use-text-of-place="MainMenu"/>
        </action>

        <group id="DevAction.statusBarPopup">
            <reference id="DevAction.openSettings"/>
        </group>

        <group id="editor.EditorPopupMenu1"
               class="editor.EditorPopupMenu1"
               text="Quick Action"
               description="Quick action"
               icon="Icons.DefaultSmall"
        >
            <add-to-group group-id="EditorPopupMenu1" anchor="first"/>
        </group>

        <group id="CodeAssistEditorPopup">
            <group id="action.editor.EditorActionGroup"
                   text="Code Assistant"
                   class="com.intellij.openapi.actionSystem.DefaultActionGroup"
                   popup="true"
                   icon="icons.Icons.DefaultSmall">
            </group>
            <add-to-group group-id="EditorPopupMenu1" anchor="first"/>
        </group>

    </actions>
</idea-plugin>