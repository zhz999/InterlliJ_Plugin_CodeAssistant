<idea-plugin>
    <id>CodeAssistant</id>
    <name>开发助手</name>
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <vendor email="zhanghongzhong@bytedance.com">zhanghongzhong</vendor>
    <description>
        <![CDATA[
          <ul>
            <li>1. Download the Plugin</li>
            <li>2. Configuration ollama</li>
            <li>3. use code_assistant</li>
          </ul>
        ]]>
    </description>
    <change-notes>
        <![CDATA[
          <ul>
            <li>### 1.0.0 : idea2023_sinceBuild212_untilBuild*</li>
            <li>### 1.0.1 : idea2023_sinceBuild232_untilBuild*</li>
          </ul>
        ]]>
    </change-notes>
    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="开发助手"
                    icon="code_assistant.common.Icons.DefaultSmall"
                    anchor="right"
                    secondary="true"
                    factoryClass="code_assistant.window.ChatWindow"/>

        <statusBarWidgetFactory
                order="first"
                id="dev.statusbar.widget"
                implementation="code_assistant.statusbar.CodeStatusBarWidgetFactory"/>

        <applicationConfigurable
                id="settings.code_assistant"
                parentId="tools"
                instance="code_assistant.settings.CodeAssistantSettingsConfigurable"
                displayName="开发助手"/>
        <applicationService serviceImplementation="code_assistant.settings.CodeAssistantSettingsState"/>

        <applicationConfigurable
                id="settings.Configuration"
                parentId="settings.code_assistant"
                displayName="Editor Configuration"
                instance="code_assistant.settings.configuration.ConfigurationConfigurable"/>
        <applicationService serviceImplementation="code_assistant.settings.configuration.ConfigurationSettings"/>

    </extensions>
    <actions>

<!--        <action id="ApplicationWindow"-->
<!--                class="code_assistant.tool.ApplicationWindow"-->
<!--                text="Open Assistant"-->
<!--                popup="true"-->
<!--                icon="code_assistant.common.Icons.DefaultSmall">-->
<!--            <add-to-group group-id="EditorPopupMenu1" anchor="first"/>-->
<!--        </action>-->

        <action id="Png-icons"
                class="code_assistant.common.PngToIcon"
                popup="true"
                icon="code_assistant.common.Icons.DefaultSmall"
                text="Png 转 Icons">
            <add-to-group group-id="ToolsMenu" anchor="first"/>
        </action>

        <action
                id="StatusBar.openSettings"
                icon="code_assistant.common.Icons.DefaultSmall"
                text="Open Settings"
                class="code_assistant.settings.OpenSettingsAction">
            <override-text place="MainMenu" text="Open Settings"/>
            <override-text place="popup" use-text-of-place="MainMenu"/>
        </action>

        <group id="StatusBar.statusBarPopup">
            <reference id="StatusBar.openSettings"/>
        </group>

        <group id="code_assistant.editor.EditorPopupMenu1"
               class="code_assistant.editor.EditorPopupMenu1"
               text="Quick Action"
               description="Quick action"
               icon="code_assistant.common.Icons.DefaultSmall"
        >
            <add-to-group group-id="EditorPopupMenu1" anchor="first"/>
        </group>

        <group id="CodeAssistEditorPopup">
            <group id="action.editor.EditorActionGroup"
                   text="Code Assistant"
                   class="com.intellij.openapi.actionSystem.DefaultActionGroup"
                   popup="true"
                   icon="code_assistant.common.Icons.DefaultSmall">
            </group>
            <add-to-group group-id="EditorPopupMenu1" anchor="first"/>
        </group>

    </actions>
</idea-plugin>